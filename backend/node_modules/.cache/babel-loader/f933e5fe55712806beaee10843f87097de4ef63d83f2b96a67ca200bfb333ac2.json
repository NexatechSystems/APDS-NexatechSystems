{"ast":null,"code":"import React,{useState}from'react';import'./Dash.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Dashboard=props=>{const[amount,setAmount]=useState('');const[currency,setCurrency]=useState('USD');const[swiftCode,setSwiftCode]=useState('');const[cardHolder,setCardHolder]=useState('');const[cardNumber,setCardNumber]=useState('');const[expiryDate,setExpiryDate]=useState('');const[cvv,setCvv]=useState('');const handleLogout=()=>{props.onFormSwitch('login');alert('You have been logged out.');};const handlePaymentSubmit=async e=>{e.preventDefault();const paymentData={amount,currency,swiftCode};try{const response=await fetch('https://localhost:3001/api/payments',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(paymentData)});if(response.ok){alert('Payment submitted successfully!');}else{alert('Failed to submit payment.');}}catch(error){console.error('Error submitting payment:',error);alert('Error submitting payment.');}};const handleSwiftCodeChange=e=>{const value=e.target.value;if(/^[A-Za-z0-9]{8,11}$/.test(value)){// SWIFT/BIC format (8-11 alphanumeric characters)\nsetSwiftCode(value);}};const handleCardHolderChange=e=>{const value=e.target.value;if(/^[a-zA-Z\\s]*$/.test(value)){// Only allow letters and spaces\nsetCardHolder(value);}};const handleCardNumberChange=e=>{const value=e.target.value;if(/^\\d{16}$/.test(value)){// 16-digit card number\nsetCardNumber(value);}};const handleExpiryDateChange=e=>{setExpiryDate(e.target.value);// YYYY-MM format is enforced by type=\"month\"\n};const handleCvvChange=e=>{const value=e.target.value;if(/^\\d{3,4}$/.test(value)){// 3 or 4 digit CVV\nsetCvv(value);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dash-container\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-right\",children:/*#__PURE__*/_jsx(\"span\",{className:\"nav-link logout\",onClick:handleLogout,children:\"Log Out\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Payment Portal\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"payment-form\",onSubmit:handlePaymentSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-left\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"amount\",name:\"amount\",value:amount,onChange:e=>setAmount(e.target.value),placeholder:\"Enter amount\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"currency\",children:\"Currency\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"currency\",name:\"currency\",value:currency,onChange:e=>setCurrency(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ZAR\",children:\"ZAR\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"swiftCode\",children:\"SWIFT Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"swiftCode\",name:\"swiftCode\",value:swiftCode,onChange:handleSwiftCodeChange,placeholder:\"Enter SWIFT code\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-right\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cardHolder\",children:\"Card Holder Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardHolder\",name:\"cardHolder\",value:cardHolder,onChange:handleCardHolderChange,placeholder:\"Card holder name\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cardNumber\",children:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardNumber\",name:\"cardNumber\",value:cardNumber,onChange:handleCardNumberChange,placeholder:\"Enter card number\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiryDate\",children:\"Expiry Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",id:\"expiryDate\",name:\"expiryDate\",value:expiryDate,onChange:handleExpiryDateChange,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cvv\",children:\"CVV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cvv\",name:\"cvv\",value:cvv,onChange:handleCvvChange,placeholder:\"CVV\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Pay Now\"})]})]})]});};","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Dashboard","props","amount","setAmount","currency","setCurrency","swiftCode","setSwiftCode","cardHolder","setCardHolder","cardNumber","setCardNumber","expiryDate","setExpiryDate","cvv","setCvv","handleLogout","onFormSwitch","alert","handlePaymentSubmit","e","preventDefault","paymentData","response","fetch","method","headers","body","JSON","stringify","ok","error","console","handleSwiftCodeChange","value","target","test","handleCardHolderChange","handleCardNumberChange","handleExpiryDateChange","handleCvvChange","className","children","onClick","onSubmit","htmlFor","type","id","name","onChange","placeholder","required"],"sources":["C:/Users/hoque/payments-portal/src/frontend/Dashboard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Dash.css';\r\n\r\nexport const Dashboard = (props) => {\r\n    const [amount, setAmount] = useState('');\r\n    const [currency, setCurrency] = useState('USD');\r\n    const [swiftCode, setSwiftCode] = useState('');\r\n    const [cardHolder, setCardHolder] = useState('');\r\n    const [cardNumber, setCardNumber] = useState('');\r\n    const [expiryDate, setExpiryDate] = useState('');\r\n    const [cvv, setCvv] = useState('');\r\n\r\n    const handleLogout = () => {\r\n        props.onFormSwitch('login');\r\n        alert('You have been logged out.');\r\n    };\r\n\r\n    const handlePaymentSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const paymentData = {\r\n            amount,\r\n            currency,\r\n            swiftCode\r\n        };\r\n\r\n        try {\r\n            const response = await fetch('https://localhost:3001/api/payments', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(paymentData),\r\n            });\r\n\r\n            if (response.ok) {\r\n                alert('Payment submitted successfully!');\r\n            } else {\r\n                alert('Failed to submit payment.');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error submitting payment:', error);\r\n            alert('Error submitting payment.');\r\n        }\r\n    };\r\n\r\n    const handleSwiftCodeChange = (e) => {\r\n        const value = e.target.value;\r\n        if (/^[A-Za-z0-9]{8,11}$/.test(value)) { // SWIFT/BIC format (8-11 alphanumeric characters)\r\n            setSwiftCode(value);\r\n        }\r\n    };\r\n\r\n    const handleCardHolderChange = (e) => {\r\n        const value = e.target.value;\r\n        if (/^[a-zA-Z\\s]*$/.test(value)) { // Only allow letters and spaces\r\n            setCardHolder(value);\r\n        }\r\n    };\r\n\r\n    const handleCardNumberChange = (e) => {\r\n        const value = e.target.value;\r\n        if (/^\\d{16}$/.test(value)) { // 16-digit card number\r\n            setCardNumber(value);\r\n        }\r\n    };\r\n\r\n    const handleExpiryDateChange = (e) => {\r\n        setExpiryDate(e.target.value); // YYYY-MM format is enforced by type=\"month\"\r\n    };\r\n\r\n    const handleCvvChange = (e) => {\r\n        const value = e.target.value;\r\n        if (/^\\d{3,4}$/.test(value)) { // 3 or 4 digit CVV\r\n            setCvv(value);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"dash-container\">\r\n            <nav className=\"navbar\">\r\n                <div className=\"navbar-right\">\r\n                    <span className=\"nav-link logout\" onClick={handleLogout}>Log Out</span>\r\n                </div>\r\n            </nav>\r\n            <div className=\"dashboard-content\">\r\n                <h1>Payment Portal</h1>\r\n                <form className=\"payment-form\" onSubmit={handlePaymentSubmit}>\r\n                    <div className=\"form-left\">\r\n                        <label htmlFor=\"amount\">Amount</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            id=\"amount\"\r\n                            name=\"amount\"\r\n                            value={amount}\r\n                            onChange={(e) => setAmount(e.target.value)}\r\n                            placeholder=\"Enter amount\"\r\n                            required\r\n                        />\r\n                        \r\n                        <label htmlFor=\"currency\">Currency</label>\r\n                        <select\r\n                            id=\"currency\"\r\n                            name=\"currency\"\r\n                            value={currency}\r\n                            onChange={(e) => setCurrency(e.target.value)}\r\n                        >\r\n                            <option value=\"USD\">USD</option>\r\n                            <option value=\"EUR\">EUR</option>\r\n                            <option value=\"GBP\">GBP</option>\r\n                            <option value=\"ZAR\">ZAR</option>\r\n                        </select>\r\n\r\n                        <label htmlFor=\"swiftCode\">SWIFT Code</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"swiftCode\"\r\n                            name=\"swiftCode\"\r\n                            value={swiftCode}\r\n                            onChange={handleSwiftCodeChange}\r\n                            placeholder=\"Enter SWIFT code\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-right\">\r\n                        <label htmlFor=\"cardHolder\">Card Holder Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"cardHolder\"\r\n                            name=\"cardHolder\"\r\n                            value={cardHolder}\r\n                            onChange={handleCardHolderChange}\r\n                            placeholder=\"Card holder name\"\r\n                            required\r\n                        />\r\n\r\n                        <label htmlFor=\"cardNumber\">Card Number</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"cardNumber\"\r\n                            name=\"cardNumber\"\r\n                            value={cardNumber}\r\n                            onChange={handleCardNumberChange}\r\n                            placeholder=\"Enter card number\"\r\n                            required\r\n                        />\r\n\r\n                        <label htmlFor=\"expiryDate\">Expiry Date</label>\r\n                        <input\r\n                            type=\"month\"\r\n                            id=\"expiryDate\"\r\n                            name=\"expiryDate\"\r\n                            value={expiryDate}\r\n                            onChange={handleExpiryDateChange}\r\n                            required\r\n                        />\r\n\r\n                        <label htmlFor=\"cvv\">CVV</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"cvv\"\r\n                            name=\"cvv\"\r\n                            value={cvv}\r\n                            onChange={handleCvvChange}\r\n                            placeholder=\"CVV\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    \r\n                    <button type=\"submit\">Pay Now</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}